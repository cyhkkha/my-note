<font size="4">

# 设计模式

by 菲尼莫斯 2019年3月26日

---

## 产品创建模式

### 单例模式：

保证一个类只有一个实例，并提供该实例的全局访问点（数据库连接池、datasource、日志控制）

用于在构建一个实例时需要消耗大量资源的场景

优点：
* 只维护一个实例，可以大大减少系统的开销
* 由于只有一个实例，因此共享资源的访问更为方便和高效

实现模式：
* 在加载类的时候就创建好实例，具有最高的效率，但导致不能延迟加载
* 在使用类时随即创建实例，并只维护这一个实例，由于创建实例的过程会导致非线程安全，因此会在创建时降低并发效率
```java
class Instance {
    // 用内部类来解决创建实例时的非线程安全问题，且外部类初始化时内部类不会初始化加载，因此可以实现实例的懒加载
    static class inner {
        private static final Instance = new Instance();
    }
    private Instance() {}
    // 唯一能获得实例的方法
    public static Instance getInstance() {
        return inner.instance;
    }
}
```

### 工厂模式

* 抽象工厂模式

* 建造者模式

* 原型模式

</font>
